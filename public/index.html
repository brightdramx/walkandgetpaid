<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DBCD - Walk and Get Paid</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ðŸ‘¤ Profile Icon -->
<div id="profileWrapper">
  <div id="profileIcon">ðŸ‘¤</div>
  <div id="profileCard" class="hidden">
    <p><strong>Name:</strong> <span id="profileName">N/A</span></p>
    <p><strong>Email:</strong> <span id="profileEmail">N/A</span></p>
    <button id="logoutBtn">Logout</button>
  </div>
</div>

  <!-- Login Screen -->
  <div id="loginScreen" class="container">
    <h2>Welcome to DBCD</h2>
    <input type="text" id="username" placeholder="Enter your name" />
    <p id="welcomeText"></p>
    <button onclick="login()">Start â˜º</button>
  </div>

  <!-- Dashboard Screen -->
  <div id="appScreen" class="container hidden">
    <h1>DBCD</h1>
    
    <!-- Step Progress Circle -->
    <div class="circle-container">
      <div class="circle">
        <span id="stepCount">0</span>
        <p>Steps</p>
      </div>
      <p class="goal">Daily 7,000</p>
      <p class="status">Goal Completed</p>
    </div>

    <!-- Action Buttons -->
    <div class="actions">
      <button onclick="showLeaderboard()">
        <img src="user-icon.png" alt="Leaderboard" />
        
      </button>
      <button onclick="showReferral()">
        <img src="referral-icon.png" alt="Referral" />
      </button>
    </div>
  </div>

  <!-- Add JS -->
  <script>
  const savedUser = localStorage.getItem('dbcd_user');
  if (!savedUser) {
    // If not logged in, redirect to register page
    window.location.href = '/register.html';
  } else {
    const user = JSON.parse(savedUser);
    console.log('Welcome back:', user.username || user.full_name);

    // Display welcome text if you want
    const welcomeText = document.getElementById('welcomeText');
    if (welcomeText) {
      welcomeText.textContent = `Hi, ${user.full_name || user.username}! Ready?`;
    }
  }

  //profile codes

  const profileIcon = document.getElementById('profileIcon');
const profileCard = document.getElementById('profileCard');
const profileName = document.getElementById('profileName');
const profileEmail = document.getElementById('profileEmail');
const logoutBtn = document.getElementById('logoutBtn');

// Toggle profile card
profileIcon.addEventListener('click', () => {
  profileCard.classList.toggle('hidden');
});

// Load user info from localStorage
const user = JSON.parse(localStorage.getItem('dbcd_user'));
if (user) {
  profileName.textContent = user.name || 'N/A';
  profileEmail.textContent = user.email || 'N/A';
}

// Logout
logoutBtn.addEventListener('click', () => {
  localStorage.removeItem('dbcd_user');
  window.location.href = '/login.html';
});

</script>

  </script>
  
  <script src="scripts.js"></script>
 


</body>
</html>
